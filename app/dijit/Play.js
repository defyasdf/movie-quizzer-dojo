//>>built
require({cache:{"url:app/dijit/templates/Play.html":'\x3cdiv\x3e\n    \x3cdiv id\x3d"movieLoading" data-dojo-attach-point\x3d"movieLoading"\x3e\n        \x3ch2\x3eLoading Movies...\x3c/h2\x3e\n    \x3c/div\x3e\n\n    \x3cdiv id\x3d"movieDetails" data-dojo-attach-point\x3d"movieDetails" class\x3d"row hidden"\x3e\n        \x3cdiv class\x3d"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"\x3e\n            \x3ch4 data-dojo-attach-point\x3d"taglineLabel"\x3e\x3c/h4\x3e\n            \x3ch5 data-dojo-attach-point\x3d"movieHintBtn"\x3e\n                \x3ca\x3eGive me a hint!\x3c/a\x3e\n            \x3c/h5\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"movieHint" class\x3d"hidden"\x3e\n                \x3cspan\x3e\n                    \x3cspan data-dojo-attach-point\x3d"genreLabel"\x3e\x3c/span\x3e\n                    released in \x3cspan data-dojo-attach-point\x3d"yearLabel"\x3e\x3c/span\x3e.\n                    Directed by \x3cspan data-dojo-attach-point\x3d"directorLabel"\x3e\x3c/span\x3e,\n                    grossing a total of \x3cspan data-dojo-attach-point\x3d"revenueLabel"\x3e\x3c/span\x3e\n                \x3c/span\x3e\n                \x3cdiv id\x3d"actorList" data-dojo-attach-point\x3d"actorList"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv id\x3d"movieList" data-dojo-attach-point\x3d"movieList" class\x3d"row"\x3e\x3c/div\x3e\n\x3c/div\x3e'}});
define("app/dijit/Play","dijit/_WidgetsInTemplateMixin dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/topic dojo/on dojo/dom-attr dojo/dom-class dojo/dom dojo/dom-construct dojo/text!app/dijit/templates/Play.html app/data/Constants app/utils/FreebaseUtil app/events/MovieEvent app/dijit/Result".split(" "),function(m,n,p,q,e,g,r,d,c,s,f,t,h,u,k,l){return q([p,n,m],{templateString:t,movies:[],movie:null,freebaseUtil:new u,startup:function(){this.inherited(arguments);
g.subscribe(k.prototype.MOVIE_CLICKED,e.hitch(this,this.movieClicked));g.subscribe(k.prototype.NEXT_ROUND,e.hitch(this,this.setupMovies));r(this.movieHintBtn,"click",e.hitch(this,this.movieHintClicked));this.setupMovies()},toggleLoading:function(a){a?(c.remove(this.movieLoading,"hidden"),c.add(this.movieDetails,"hidden")):(c.remove(this.movieDetails,"hidden"),c.add(this.movieLoading,"hidden"))},setupMovies:function(){this.toggleLoading(!0);this.removeAllMovies();this.freebaseUtil.getMovies(h.prototype.NUMBER_OF_MOVIES).then(e.hitch(this,
function(a){this.toggleLoading(!1);this.createMovieModuleList(a);this.setSelectedMovie(a[this.freebaseUtil.getRandomNumber(0,h.prototype.NUMBER_OF_MOVIES-1)]);this.movies=a}))},createMovieModuleList:function(a){for(var b=0;b<a.length;b++)a[b].startup(),f.place(a[b].domNode,s.byId("movieList"),"last")},movieClicked:function(a){a=a.movieID===this.movie.movieID?new l(!0):new l(!1,this.movie.title);this.removeAllMovies();a.startup();f.place(a.domNode,"movieList","before")},movieHintClicked:function(a){c.add(this.movieHintBtn,
"hidden");c.remove(this.movieHint,"hidden")},setSelectedMovie:function(a){if(a.tagline){d.set(this.taglineLabel,"innerHTML",'"'+a.tagline+'"');d.set(this.yearLabel,"innerHTML",a.releaseDate);d.set(this.genreLabel,"innerHTML",a.genre);d.set(this.directorLabel,"innerHTML",a.director);d.set(this.revenueLabel,"innerHTML",a.revenue);for(var b=0;b<a.actors.length;b++)a.actors[b].startup(),f.place(a.actors[b].domNode,"actorList","last");this.movie=a}else this.setupMovies()},removeAllMovies:function(){for(var a=
0;a<this.movies.length;a++){this.movies[a].destroy();for(var b=0;b<this.movies[a].actors.length;b++)this.movies[a].actors[b].destroy()}c.add(this.movieHint,"hidden");c.remove(this.movieHintBtn,"hidden");d.set(this.movieList,"innerHTML","");d.set(this.actorList,"innerHTML","")}})});
//# sourceMappingURL=Play.js.map